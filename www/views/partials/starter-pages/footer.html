<script src="https://code.jquery.com/jquery-2.1.4.min.js" ></script>
<script src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.3.0.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout-validation/2.0.3/knockout.validation.min.js" ></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.1/moment.min.js"></script>
<script src="/scripts/cyclops.js" ></script>
<!-- Include any additional scripts your service needs -->

<script>
	$(function(){
		var AccountSwitcherModel = function() {
			var self = this;

			self.accounts = ko.observableArray([]);

			window.setTimeout(function(){
				accounts = [
					{
						accountAlias: "ROOT",
						businessName: "My Awesome Business",
						accountStatus: "active",
						primaryDataCenter : "QA1",
						subAccounts:[
							{ accountAlias: "APPL", businessName: "Apple Designed in California", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[
								{ accountAlias: "APLP", businessName: "iPhone division", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
								{ accountAlias: "APLC", businessName: "iCar division", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
								{ accountAlias: "APLO", businessName: "OSX division", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
								{ accountAlias: "APP", businessName: "Not what you're looking for", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
								{ accountAlias: "AP", businessName: "Nothing to See", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
								{ accountAlias: "APLI", businessName: "iPad division", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] }
							] },
							{ accountAlias: "SUB1", businessName: "Sub Account One", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
							{ accountAlias: "SUB2", businessName: "Sub Account Two", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },
							{ accountAlias: "SUB3", businessName: "Sub Account Three", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[
								{ accountAlias: "SSUB", businessName: "Nested Sub Account", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] }
							] },
							{
								accountAlias: "SUB4",
								businessName: "Sub Account Four",
								accountStatus: "active",
								primaryDataCenter : "QA1",
								subAccounts:[{
									accountAlias: "SSB4",
									businessName: "Nested Sub Account",
									accountStatus: "active",
									primaryDataCenter : "QA1",
									subAccounts:[{
										accountAlias: "NOOB",
										businessName: "Really Nested Sub Account",
										accountStatus: "active",
										primaryDataCenter : "QA1",
										subAccounts:[]
									}]
								}]
							},
							{
								accountAlias: "SUB5",
								businessName: "Sub Account Five",
								accountStatus: "active",
								primaryDataCenter : "QA1",
								subAccounts:[]
							},
							{
								accountAlias: "SUB6",
								businessName: "Sub Account Six",
								accountStatus: "active",
								primaryDataCenter : "QA1",
								subAccounts:[{
									accountAlias: "FOO",
									businessName: "Nested Sub Account",
									accountStatus: "active",
									primaryDataCenter : "QA1",
									subAccounts:[]
								}]
							},
							{
								accountAlias: "SUB7",
								businessName: "Sub Account Seven",
								accountStatus: "active",
								primaryDataCenter : "QA1",
								subAccounts:[]
							},
							{ accountAlias: "RJP", businessName: "Rick James Productions", accountStatus: "active", primaryDataCenter : "QA1", subAccounts:[] },

						]
					}
				];

				for (var i = 0; i < 100; i++) {
					accounts[0].subAccounts.push({
						accountAlias: "G0" + i,
						businessName: "" + i + " Generated Account for Perf Testing",
						accountStatus: "active",
						primaryDataCenter : "QA2",
						subAccounts:[]
					});
				}

				self.accounts(accounts);
				self.loadingAccounts(false);
			}, 3000);

			self.loadingAccounts = ko.observable(true);
			self.currentAccountAlias = ko.observable('ROOT');
			self.currentAccountAlias.subscribe(function(newValue) {
				console.log(newValue)
			});

			return self;
		}
		ko.applyBindings(new AccountSwitcherModel(), $("account-switcher")[0]);

		var LeftNavModel = function(){
			var self = this;
			self.menus = ko.observableArray([
				{
					id: "home",
					name: 'Dashboard',
					iconId: '#icon-pie-chart',
					href: '#'
				},
				{
					id: "create",
					name: 'create',
					iconId: '#icon-book',
					items: ko.observableArray([
						{
							id: 'create.server',
							name: 'server',
							description: 'Customize and create a virtual or hyperscale server'
						},
						{
							name: 'group',
							description: 'Logically organize servers together in groups',
							isNew: true
						}
					])
				},
				{
					name: 'infrastructure',
					iconId: '#icon-infrastructure',
					items: [
						{
							id: 'infrastructure.manage',
							name: 'Manage',
							description: 'Manage and create virtual and physical servers'
						},
						{
							id: 'infrastructure.backup',
							name: 'Simple Backup',
							description: 'Secure, file-level backup'
						},
						{
							id: 'infrastructure.dns',
							name: 'DNS',
							description: 'Host and manage DNS zones'
						},
						{
							id: 'infrastructure.intrusionPrevention',
							name: 'Intrusion Prevention',
							description: 'Monitor traffic to detect and block known vulnerabilities.'
						},
						{
							id: 'infrastructure.monitoring',
							name: 'Monitoring and Alerting',
							description: 'intra and cross data center connectivity'
						},
						{
							id: 'infrastructure.patching',
							name: 'Patching',
							description: 'intra and cross data center connectivity'
						}
					]
				},
				{
					name: 'network',
					iconId: '#icon-global-network',
					items: [
						{
							id: 'network.networks',
							name: 'networks',
							description: 'Manage and create networks'
						},
						{
							id: 'network.firewall',
							name: 'firewall',
							description: 'intra and cross data center connectivity'
						},
						{
							id: 'network.ipAddresses',
							name: 'IP Addresses',
							description: 'Manage IP Addresses'
						},
						{
							id: 'network.vpn',
							name: 'vpn',
							description: 'Connect to cloud networks via VPN'
						},
						{
							id: 'network.siteToSite',
							name: 'Site-To-Site VPN',
							description: 'self service IPSec (Point-to-Point) VPN Tunnel'
						},
						{
							id: 'network.netx',
							name: 'netx',
							description: 'Connect to CenturyLink Data Centers'
						}
					]
				},
				{
					name: 'orchestration',
					iconId: '#icon-script',
					items: [
						{
							id: 'orchestration.runner',
							name: 'Runner',
							description: 'run shit',
							isBeta: true
						},
						{
							id: 'orchestration.library',
							name: 'Blueprints Library',
							description: 'ASDF'
						},
						{
							id: 'orchestration.design',
							name: 'Design a Blueprint',
							description: 'ASDF'
						},
						{
							id: 'orchestration.scripts',
							name: 'Scripts',
							description: 'ASDF'
						},
						{
							id: 'orchestration.software',
							name: 'Software',
							description: 'ASDF'
						},
						{
							id: 'orchestration.ftp',
							name: 'FTP User',
							description: 'ASDF'
						}
					]
				},
				{
					name: 'App Services',
					iconId: '#icon-package',
					items: [
						{
							id: 'applicationServices.appfog',
							name: 'AppFog',
							description: 'host your apps'
						},
						{
							id: 'applicationServices.loadBalancer',
							name: 'Load Balancers',
							description: 'balance load'
						},
						{
							id: 'applicationServices.objectStorage',
							name: 'Object Storage',
							description: 'store objects '
						},
						{
							id: 'applicationServices.relationalDb',
							name: 'Relational DB',
							description: 'relate data'
						},
						{
							id: 'applicationServices.siteRedirect',
							name: 'Site Redirect',
							description: 'relate data'
						},
						{
							id: 'applicationServices.relationalDb',
							name: 'SMTP Relay',
							description: 'relate data'
						}
					]
				},
				{
					name: 'Queue',
					iconId: '#icon-queue',
					href: '#'
				}
			]);


			self.addMenuItem = function() {
				self.menus.push({
					name: 'Added Item',
					iconId: '#icon-centurylink',
					items: [{
						name: 'an item',
						description: 'some description'
					}]
				})
			};

			self.addItemToCreate = function() {
				console.log(self.menus()[0]);
				self.menus()[0].items.push({
					name: 'added item',
					description: 'some description'
				})
			}
		}

		ko.applyBindings(new LeftNavModel(), $("left-nav")[0]);
	})
</script>

{{{block "scripts"}}}

</body>
</html>
